# Goal-to-Market Autopilot 🚀

A streamlined Flask web app that generates custom 5-year career roadmaps and personalized market intelligence reports from a user's resume, then emails the final report directly to them.

---

## 🔍 Features

1.  **Intelligent Roadmap Generation:** Upload a resume (`.pdf`, `.docx`, `.txt`), specify a 5-year career goal, and receive a hyper-personalized, year-by-year roadmap generated by OpenAI's `o3-mini` model.
2.  **Deep Market Research:** A background thread uses Perplexity's `sonar-deep-research` model to create a forensic market intelligence report tied to the user's specific goals and location.
3.  **Actionable Insights:** The final report includes local salary benchmarks, top employers, critical skill gaps, and a "stat-dump" of raw data sources to back up the analysis.
4.  **Email Delivery:** The complete report, formatted in HTML, is delivered directly to the user's inbox via Gmail SMTP.


![goal to market report builder](https://github.com/user-attachments/assets/e0bef5c6-1493-4307-8455-e17cc0114962)

---

## ⚙️ Technology Stack

| Layer      | Stack                                                        |
| :--------- | :----------------------------------------------------------- |
| **Backend** | Flask, Gunicorn/Waitress, Pydantic, OpenAI & Perplexity APIs |
| **Frontend** | Vanilla JS, HTML5, CSS3 (with modern glassmorphic UI)        |
| **Email** | `smtplib` for authenticated SMTP delivery via Gmail          |

![goal to market report example](https://github.com/user-attachments/assets/a65182e9-bf24-4285-b0c5-4f4330be9070)

---

## 🧩 Project Structure

```
├── app.py                      # Main Flask application, routes, and logic
├── requirements.txt            # Project dependencies
├── .env                        # Environment variables (API keys, email creds)
│
├── backend/                    # Core application modules
│   ├── email_sender.py         # Sends emails via Gmail SMTP
│   ├── models.py               # Pydantic data models for validation
│   ├── openai_client.py        # Client for OpenAI API calls
│   ├── perplexity_client.py    # Client for Perplexity API calls
│   ├── prompt_builder.py       # Builds the prompt for OpenAI
│   ├── perplexity_prompt_builder.py # Builds the prompt for Perplexity
│   └── resume_extractor.py     # Parses text from resume files
│
├── static/                     # Frontend assets
│   ├── css/style.css           # Styling for the web interface
│   └── js/script.js            # Frontend logic for polling and UI updates
│
└── templates/                  # HTML templates
    └── index.html              # Main page template
```

---

## 🧪 How to Run Locally

### 1. Clone & Install Dependencies

First, clone the repository and install the required Python packages into a virtual environment.

```sh
git clone [https://your-repo-url.com/](https://your-repo-url.com/)
cd your-repo-directory
python -m venv .venv
.\.venv\Scripts\Activate.ps1
pip install -r requirements.txt
```

### 2. Set Up Environment Variables

Create a `.env` file in the root directory and add your credentials. You **must** use a [Google App Password](https://support.google.com/accounts/answer/185833) for `GMAIL_APP_PASSWORD`, not your regular account password.

```env
OPENAI_API_KEY="your-openai-key"
PERPLEXITY_API_KEY="your-perplexity-key"
EMAIL_SENDER="your-email@gmail.com"
GMAIL_APP_PASSWORD="your-16-character-app-password"
```

### 3. Run the Application

For a production-like environment that matches a typical deployment, use `waitress`.

```sh
waitress-serve --host 127.0.0.1 --port=5000 app:app
```

*(For simple development, you can also use `flask run`, but `waitress` is recommended for stability.)*

### 4. Open in Browser

Navigate to `http://127.0.0.1:5000` to use the application.

---

## 🚀 Deployment

This application is configured for deployment on services like **Render** using a `Procfile` with Gunicorn.

-   **Service Type:** Web Service
-   **Build Command:** `pip install -r requirements.txt`
-   **Start Command:** `gunicorn --worker-class thread --threads 4 app:app`

Remember to set your environment variables in the Render dashboard instead of using a `.env` file.

---

## 🛡️ Security & Usage Notes   

-   **Secrets:** The `.env` file is included in `.gitignore` and should never be committed to version control.
-   **Cost Control:** The app includes a simple file-based daily usage counter (`daily_usage.json`) to limit API calls. It is **highly recommended** to also set hard spending limits in your OpenAI and Perplexity account dashboards as a failsafe.
-   **Authentication:** The live beta can be protected by a simple access code managed in the `app.py` logic.
